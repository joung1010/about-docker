## ì´ë¯¸ì§€ ì¡°íšŒ/ì‚­ì œ

### ğŸ“‹ ë‹¤ìš´ë°›ì€ ëª¨ë“  ì´ë¯¸ì§€ ì¡°íšŒ

```bash
$ docker image ls
```

### **ëª…ë ¹ì–´ ì¶œë ¥ ë¶„ì„**

```bash
ì¶œë ¥ ì˜ˆì‹œ:
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
nginx         latest    605c77e624dd   2 weeks ago    141MB
nginx         alpine    4f380adfc10f   2 weeks ago    38MB
mysql         8.0       3218b38490ce   3 weeks ago    516MB
python        3.9       a5d7930b60cc   1 month ago    918MB

ê° ì»¬ëŸ¼ ìƒì„¸ ì„¤ëª…:
```

- **`REPOSITORY`** : ì´ë¯¸ì§€ ì´ë¦„(ì´ë¯¸ì§€ëª…)
- **`TAG`** : ì´ë¯¸ì§€ íƒœê·¸ëª…
- **`IMAGE ID`** : ì´ë¯¸ì§€ ê³ ìœ  ì‹ë³„ì (SHA256 í•´ì‹œì˜ ì¶•ì•½í˜•)
- **`CREATED`** : ì´ë¯¸ì§€ê°€ ìƒì„±ëœ ë‚ ì§œ (**ë‹¤ìš´ë°›ì€ ë‚ ì§œê°€ ì•„ë‹˜!**)
- **`SIZE`** : ì´ë¯¸ì§€ í¬ê¸° (ì••ì¶•ëœ ìƒíƒœ)

### **ì¤‘ìš”í•œ ê°œë…ë“¤**

CREATED ë‚ ì§œì˜ ì˜ë¯¸:

- ì´ë¯¸ì§€ê°€ Docker Hubì—ì„œ ë¹Œë“œëœ ë‚ ì§œ
- ë‚´ê°€ ë‹¤ìš´ë°›ì€ ë‚ ì§œê°€ ì•„ë‹˜
- ì´ë¯¸ì§€ ì œì‘ìê°€ docker build ì‹¤í–‰í•œ ë‚ ì§œ

IMAGE IDì˜ íŠ¹ì§•:

- SHA256 í•´ì‹œê°’ì˜ ì• 12ìë¦¬
- ì „ì²´ ID: sha256:605c77e624dd2037d35d...
- í‘œì‹œë˜ëŠ” ID: 605c77e624dd
- ì´ë¯¸ì§€ ë‚´ìš©ì´ ë°”ë€Œë©´ IDë„ ë³€ê²½ë¨ SIZEì˜ ì˜ë¯¸:
- ì••ì¶•ëœ ì´ë¯¸ì§€ í¬ê¸°
- ì‹¤ì œ ë‹¤ìš´ë¡œë“œí•œ ìš©ëŸ‰
- ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ì‹œ ë” ë§ì€ ê³µê°„ ì‚¬ìš©

### **ë‹¤ì–‘í•œ ì¡°íšŒ ì˜µì…˜ë“¤**

```bash
ê¸°ë³¸ ëª…ë ¹ì–´ë“¤:
$ docker image ls          *# ìƒˆë¡œìš´ í˜•íƒœ (ê¶Œì¥)*
$ docker images            *# ê¸°ì¡´ í˜•íƒœ (í˜¸í™˜ì„±)*
$ docker image list        *# ì™„ì „í•œ í˜•íƒœ*

íŠ¹ì • ì´ë¯¸ì§€ë§Œ ì¡°íšŒ:
$ docker image ls nginx
$ docker image ls nginx:alpine
$ docker image ls nginx:*  *# nginxì˜ ëª¨ë“  íƒœê·¸*

í•„í„°ë§ ì˜µì…˜:
$ docker image ls --filter "dangling=true"    *# íƒœê·¸ ì—†ëŠ” ì´ë¯¸ì§€*
$ docker image ls --filter "before=nginx"     *# nginxë³´ë‹¤ ì´ì „ ì´ë¯¸ì§€*
$ docker image ls --filter "since=mysql"      *# mysql ì´í›„ ì´ë¯¸ì§€*
$ docker image ls --filter "reference=*/nginx"# ì´ë¦„ì— nginx í¬í•¨

í¬ê¸°ë³„ ì •ë ¬:
$ docker image ls --format "table {{.Repository}}\t{{.Tag}}\t{{.Size}}" | sort -k3 -h

IDë§Œ ì¶œë ¥:
$ docker image ls -q
605c77e624dd
4f380adfc10f
3218b38490ce

ì „ì²´ IMAGE ID í‘œì‹œ:
$ docker image ls --no-trunc
REPOSITORY   TAG     IMAGE ID                                                         CREATED     SIZE
nginx        latest  sha256:605c77e624dd2037d35d9f0d7661ffd8d2a9b8e8c7b3f1a4d8e7c2f6b9   2 weeks ago 141MB
```

### ğŸ—‘ï¸ ì´ë¯¸ì§€ ì‚­ì œ

### **[íŠ¹ì • ì´ë¯¸ì§€ ì‚­ì œ]**

```bash
$ docker image rm [ì´ë¯¸ì§€ ID ë˜ëŠ” ì´ë¯¸ì§€ëª…]
```

**`rm`** : removeì˜ ì•½ì

### **ì´ë¯¸ì§€ ID ë¶€ë¶„ ì…ë ¥**

**ì´ë¯¸ì§€ ID**ë¥¼ ì…ë ¥í•  ë•Œ ì „ì²´ IDë¥¼ ë‹¤ ì…ë ¥í•˜ì§€ ì•Šê³  **IDì˜ ì¼ë¶€ë§Œ ì…ë ¥í•´ë„ ë¼ìš”**.

```bash
ì „ì²´ IMAGE ID: 605c77e624dd2037d35d9f0d7661ffd8d2a9b8e8c7b3f1a4d8e7c2f6b9

ì‚¬ìš© ê°€ëŠ¥í•œ ë¶€ë¶„ IDë“¤:
$ docker image rm 605c77e624dd    *# ê¸°ë³¸ í‘œì‹œëœ 12ìë¦¬*
$ docker image rm 605c77e6        *# ì• 8ìë¦¬*
$ docker image rm 605c77          *# ì• 6ìë¦¬*
$ docker image rm 605c            *# ì• 4ìë¦¬*

ì¡°ê±´: ì…ë ¥í•œ IDì˜ ì¼ë¶€ë¥¼ ê°€ì§„ ì´ë¯¸ì§€ê°€ ë‹¨ 1ê°œì—¬ì•¼ í•¨

ì˜ˆì‹œ ìƒí™©:
IMAGE ID
605c77e624dd  â† nginx:latest
605c88f123ab  â† mysql:8.0

$ docker image rm 605c    *# âŒ ì—ëŸ¬! ë‘ ì´ë¯¸ì§€ ëª¨ë‘ 605cë¡œ ì‹œì‘*
$ docker image rm 605c77  *# âœ… ì„±ê³µ! nginxë§Œ í•´ë‹¹*
$ docker image rm 605c88  *# âœ… ì„±ê³µ! mysqlë§Œ í•´ë‹¹*
```

### **ì´ë¯¸ì§€ëª…ê³¼ íƒœê·¸ë¡œ ì‚­ì œ**

```bash
ì´ë¯¸ì§€ëª…ìœ¼ë¡œ ì‚­ì œ:
$ docker image rm nginx           *# nginx:latest ì‚­ì œ*
$ docker image rm nginx:alpine    *# nginx:alpine ì‚­ì œ*
$ docker image rm nginx:1.21      *# nginx:1.21 ì‚­ì œ*

ì—¬ëŸ¬ ì´ë¯¸ì§€ ë™ì‹œ ì‚­ì œ:
$ docker image rm nginx mysql python
$ docker image rm nginx:alpine nginx:stable mysql:8.0
```

### âš ï¸ ì»¨í…Œì´ë„ˆ ì‚¬ìš© ì¤‘ì¸ ì´ë¯¸ì§€ ì‚­ì œ

**ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš©í•˜ê³  ìˆì§€ ì•Šì€ ì´ë¯¸ì§€ë§Œ ì‚­ì œê°€ ê°€ëŠ¥í•´ìš”**

### **ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•œ ì´ë¯¸ì§€ ì‚­ì œ ì‹œ ì—ëŸ¬**

```bash
$ docker image rm nginx
Error response from daemon: conflict: unable to delete a776e89aad2d (must be forced) - image is being used by stopped container 40fddd7b6f85
```

### **ì—ëŸ¬ ìƒí™© ë¶„ì„**

```bash
ì´ë¯¸ì§€ ì‚¬ìš© ìƒíƒœ í™•ì¸:
$ docker ps -a
CONTAINER ID   IMAGE   COMMAND   CREATED   STATUS                    PORTS   NAMES
40fddd7b6f85   nginx   "..."     1 hour    Exited (0) 5 minutes ago          webserver

ìƒí™© ì„¤ëª…:
- nginx ì´ë¯¸ì§€ë¡œ webserver ì»¨í…Œì´ë„ˆ ìƒì„±ë¨
- ì»¨í…Œì´ë„ˆëŠ” í˜„ì¬ ì¤‘ì§€ëœ ìƒíƒœ (Exited)
- í•˜ì§€ë§Œ ì—¬ì „íˆ ì»¨í…Œì´ë„ˆê°€ ì¡´ì¬í•˜ë¯€ë¡œ ì´ë¯¸ì§€ ì‚­ì œ ë¶ˆê°€
- DockerëŠ” ì´ë¯¸ì§€ì™€ ì»¨í…Œì´ë„ˆ ê°„ì˜ ì˜ì¡´ì„± ë³´í˜¸
```

### **í•´ê²° ë°©ë²•ë“¤**

```bash
ë°©ë²• 1: ì»¨í…Œì´ë„ˆ ë¨¼ì € ì‚­ì œ
$ docker rm webserver     *# ì»¨í…Œì´ë„ˆ ì‚­ì œ*
$ docker image rm nginx   *# ì´ë¯¸ì§€ ì‚­ì œ*

ë°©ë²• 2: í•œ ë²ˆì— ì²˜ë¦¬
$ docker rm webserver && docker image rm nginx

ë°©ë²• 3: ê°•ì œ ì‚­ì œ (ì£¼ì˜!)
$ docker image rm -f nginx
```

### ğŸ’ª ê°•ì œ ì‚­ì œ

### **[ì¤‘ì§€ëœ ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ì´ë¯¸ì§€ ê°•ì œ ì‚­ì œí•˜ê¸°]**

```bash
$ docker image rm -f [ì´ë¯¸ì§€ ID ë˜ëŠ” ì´ë¯¸ì§€ëª…]
```

### **ê°•ì œ ì‚­ì œì˜ ë™ì‘**

```bash
ê°•ì œ ì‚­ì œ ê³¼ì •:
1. ì´ë¯¸ì§€ ì‚¬ìš© ì¤‘ì¸ ì¤‘ì§€ëœ ì»¨í…Œì´ë„ˆë“¤ì„ ìë™ìœ¼ë¡œ ì‚­ì œ
2. ì´ë¯¸ì§€ ì‚­ì œ ì‹¤í–‰
3. ê´€ë ¨ëœ ë ˆì´ì–´ë“¤ ì •ë¦¬

ì£¼ì˜ì‚¬í•­:
âœ… ì¤‘ì§€ëœ(Exited) ì»¨í…Œì´ë„ˆ: ê°•ì œ ì‚­ì œ ê°€ëŠ¥
âŒ ì‹¤í–‰ ì¤‘ì¸(Running) ì»¨í…Œì´ë„ˆ: ê°•ì œ ì‚­ì œ ë¶ˆê°€ëŠ¥

ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆê°€ ìˆëŠ” ê²½ìš°:
$ docker image rm -f nginx
Error: image is being used by running container abc123def456
```

### **ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ ì²˜ë¦¬**

```bash
ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ í™•ì¸:
$ docker ps
CONTAINER ID   IMAGE   COMMAND   CREATED   STATUS         PORTS                NAMES
abc123def456   nginx   "..."     1 hour    Up 10 minutes  0.0.0.0:80->80/tcp   webserver

í•´ê²° ë°©ë²•:
1. ì»¨í…Œì´ë„ˆ ì¤‘ì§€ í›„ ì‚­ì œ:
$ docker stop webserver
$ docker rm webserver
$ docker image rm nginx

2. ê°•ì œë¡œ ì»¨í…Œì´ë„ˆ ì‚­ì œ:
$ docker rm -f webserver  *# ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ ê°•ì œ ì¢…ë£Œ ë° ì‚­ì œ*
$ docker image rm nginx
```

### ğŸ§¹ ì „ì²´ ì´ë¯¸ì§€ ì‚­ì œ

### **[ì „ì²´ ì´ë¯¸ì§€ ì‚­ì œ]**

```bash
*# ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš©í•˜ê³  ìˆì§€ ì•Šì€ ì´ë¯¸ì§€ë§Œ ì „ì²´ ì‚­ì œ*
$ docker image rm $(docker images -q)

*# ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ì´ë¯¸ì§€ë¥¼ í¬í•¨í•´ì„œ ì „ì²´ ì´ë¯¸ì§€ ì‚­ì œ*
$ docker image rm -f $(docker images -q)
```

### **ëª…ë ¹ì–´ ë¶„ì„**

**`docker images -q`** : ì‹œìŠ¤í…œì— ìˆëŠ” ëª¨ë“  ì´ë¯¸ì§€ì˜ IDë¥¼ ë°˜í™˜í•´ìš”. ì—¬ê¸°ì„œ **`-q`** ì˜µì…˜ì€ **quiet**ì„ ì˜ë¯¸í•˜ë©°, ìƒì„¸ ì •ë³´ ëŒ€ì‹ ì— ê° ì´ë¯¸ì§€ì˜ ê³ ìœ í•œ IDë§Œ í‘œì‹œí•˜ë„ë¡ ì§€ì‹œí•´ìš”.

```bash
docker images -q ì‹¤í–‰ ê²°ê³¼:
605c77e624dd
4f380adfc10f
3218b38490ce
a5d7930b60cc

$(docker images -q) ë™ì‘ ì›ë¦¬:
1. docker images -q ì‹¤í–‰
2. ëª¨ë“  ì´ë¯¸ì§€ ID ëª©ë¡ ë°˜í™˜
3. $() êµ¬ë¬¸ìœ¼ë¡œ ê²°ê³¼ë¥¼ ë‹¤ë¥¸ ëª…ë ¹ì–´ì— ì „ë‹¬
4. docker image rmì— ëª¨ë“  IDê°€ ì¸ìˆ˜ë¡œ ì „ë‹¬

ì‹¤ì œ ì‹¤í–‰ë˜ëŠ” ëª…ë ¹ì–´:
$ docker image rm 605c77e624dd 4f380adfc10f 3218b38490ce a5d7930b60cc
```

### **ì•ˆì „í•œ ì „ì²´ ì‚­ì œ ë°©ë²•**

```bash
1ë‹¨ê³„: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ë§Œ ì‚­ì œ
$ docker image prune
WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] y

2ë‹¨ê³„: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ëª¨ë“  ì´ë¯¸ì§€ ì‚­ì œ
$ docker image prune -a
WARNING! This will remove all images without at least one container associated to them.
Are you sure you want to continue? [y/N] y

3ë‹¨ê³„: í•„í„°ë¥¼ ì‚¬ìš©í•œ ì„ íƒì  ì‚­ì œ
$ docker image prune --filter "until=24h"  *# 24ì‹œê°„ ì´ì „ ì´ë¯¸ì§€ë§Œ*
$ docker image prune --filter "label!=keep"  *# keep ë¼ë²¨ì´ ì—†ëŠ” ì´ë¯¸ì§€ë§Œ*
```

### ğŸ” ì´ë¯¸ì§€ ì˜ì¡´ì„± ê´€ë¦¬

### **ì´ë¯¸ì§€ ë ˆì´ì–´ ê³µìœ **

```bash
ë ˆì´ì–´ ê³µìœ  í™•ì¸:
$ docker image ls
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
nginx        latest    605c77e624dd   2 weeks ago   141MB
nginx        alpine    4f380adfc10f   2 weeks ago   38MB

$ docker system df  *# ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í™•ì¸*
TYPE            TOTAL     ACTIVE    SIZE      RECLAIMABLE
Images          2         1         179MB     38MB (21%)
Containers      1         0         0B        0B
Local Volumes   0         0         0B        0B
Build Cache     0         0         0B        0B

ì‹¤ì œ ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰:
- nginx:latest + nginx:alpine = 179MB (141MB + 38MB = 179MB)
- ì¼ë¶€ ë ˆì´ì–´ ê³µìœ ë¡œ ì‹¤ì œ ìš©ëŸ‰ì€ ë” ì ìŒ
```

### **ì´ë¯¸ì§€ ì‚­ì œ ì‹œ ì£¼ì˜ì‚¬í•­**

```bash
ê³µìœ  ë ˆì´ì–´ê°€ ìˆëŠ” ê²½ìš°:
$ docker image rm nginx:alpine
Untagged: nginx:alpine
Deleted: sha256:4f380adfc10f...  *# alpineë§Œì˜ ë ˆì´ì–´# ê³µìœ  ë ˆì´ì–´ëŠ” ì‚­ì œë˜ì§€ ì•ŠìŒ (nginx:latestê°€ ì‚¬ìš© ì¤‘)*

ëª¨ë“  nginx ì´ë¯¸ì§€ ì‚­ì œ:
$ docker image rm nginx:latest nginx:alpine
Untagged: nginx:latest
Untagged: nginx:alpine  
Deleted: sha256:605c77e624dd...  *# ëª¨ë“  ë ˆì´ì–´ ì‚­ì œ*
Deleted: sha256:4f380adfc10f...
```

### ğŸ› ï¸ ìœ ìš©í•œ ì´ë¯¸ì§€ ê´€ë¦¬ ëª…ë ¹ì–´ë“¤

### **ì´ë¯¸ì§€ ì •ë³´ í™•ì¸**

```bash
ì´ë¯¸ì§€ ìƒì„¸ ì •ë³´:
$ docker image inspect nginx
$ docker image inspect nginx --format='{{.RepoTags}}'

ì´ë¯¸ì§€ íˆìŠ¤í† ë¦¬:
$ docker image history nginx
IMAGE          CREATED        CREATED BY                                      SIZE
605c77e624dd   2 weeks ago    /bin/sh -c *#(nop)  CMD ["nginx" "-g" "daemonâ€¦   0B*
<missing>      2 weeks ago    /bin/sh -c *#(nop)  STOPSIGNAL SIGQUIT           0B*

ì´ë¯¸ì§€ ë ˆì´ì–´ ë¶„ì„:
$ docker image save nginx > nginx.tar  *# ì´ë¯¸ì§€ íŒŒì¼ë¡œ ì €ì¥*
$ tar -tf nginx.tar | head -20         *# ì•„ì¹´ì´ë¸Œ ë‚´ìš© í™•ì¸*`
```

### **ì‹œìŠ¤í…œ ì •ë¦¬**

```bash
ì „ì²´ ì‹œìŠ¤í…œ ì •ë¦¬:
$ docker system prune
WARNING! This will remove:
  - all stopped containers
  - all networks not used by at least one container
  - all dangling images
  - all dangling build cache

ì „ì²´ ì‹œìŠ¤í…œ ì™„ì „ ì •ë¦¬:
$ docker system prune -a --volumes
*# ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ëª¨ë“  ê²ƒ ì‚­ì œ (ì´ë¯¸ì§€, ì»¨í…Œì´ë„ˆ, ë³¼ë¥¨, ë„¤íŠ¸ì›Œí¬)*

ì •ë¦¬ ì „ ìš©ëŸ‰ í™•ì¸:
$ docker system df -v  *# ìƒì„¸í•œ ìš©ëŸ‰ ì •ë³´*
```